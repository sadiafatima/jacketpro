<?xml version="1.0" encoding="utf-8"?>
<mx:TabNavigator xmlns:fx="http://ns.adobe.com/mxml/2009" 
				xmlns:s="library://ns.adobe.com/flex/spark" 
				xmlns:mx="library://ns.adobe.com/flex/mx"
				xmlns:jp="bms.jacketpro.*"
				change="dispatchSelectionChangeEvent()">
				
	<fx:Metadata>
        [Event(name="colourChange", type="bms.jacketpro.event.SelectionChangeEvent")]
    </fx:Metadata>
				
	<fx:Script>
		<![CDATA[
			import bms.jacketpro.event.SelectionChangeEvent;
			import flash.display.DisplayObject;
			import spark.components.NavigatorContent;
			
			public function dispatchSelectionChangeEvent():void
			{
				var part:String = (selectedChild as NavigatorContent).name;
				var ev:SelectionChangeEvent = new SelectionChangeEvent(SelectionChangeEvent.PART_CHANGE);
				ev.part = part;
				trace("dispatching part: " + ev.part);
                dispatchEvent(ev);
			}
			
			public function selectPart(childName:String):void
			{
				selectedChild = getChildByName(childName) as NavigatorContent;
			}
		]]>
	</fx:Script>
				
	<s:NavigatorContent name="body" label="Body" width="200" height="200">
		<jp:ColourChooser height="90%" width="90%" verticalAlign="middle" horizontalAlign="center" />
	</s:NavigatorContent>
	<s:NavigatorContent name="collar" label="Collar" width="200" height="200">
		<jp:ColourChooser height="90%" width="90%" verticalAlign="middle" horizontalAlign="center" />
	</s:NavigatorContent>
	<s:NavigatorContent name="sleeves" label="Sleeves" width="200" height="200">
		<jp:ColourChooser height="90%" width="90%" verticalAlign="middle" horizontalAlign="center" />
	</s:NavigatorContent>
</mx:TabNavigator>