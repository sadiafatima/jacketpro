<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009"
               xmlns:s="library://ns.adobe.com/flex/spark"
               xmlns:mx="library://ns.adobe.com/flex/mx" 
			   xmlns:jp="bms.jacketpro.*"
			   applicationComplete="init();">
			   
	<fx:Script>
		<![CDATA[
		import bms.jacketpro.event.SelectionChangeEvent;
		
		public function init():void
		{
			addEventListener(SelectionChangeEvent.PART_CHANGE, previewPanelChangedPart);
		}
		
		private function previewPanelChangedPart(event:SelectionChangeEvent):void
		{
			selectionPanel.selectPart(event.part);
		}
		
		private function flip(event:flash.events.MouseEvent):void
		{
			previewPanel.viewingAngleChanged();
		}
		]]>
	</fx:Script>
	
	<s:Panel x="20" y="20" title="Customize your Jacket">
		<s:HGroup horizontalAlign="center" verticalAlign="middle" x="20" y="20" gap="50"
					height="500" width="800">
			<jp:SelectionPanel id="selectionPanel" height="200" width="180"/>
			<jp:PreviewPanel id="previewPanel" width="500" height="500"/>
		</s:HGroup>
	
		<s:controlBarContent>
			<s:Button label="Flip" click="flip(event)" />   
		</s:controlBarContent>        

		<s:controlBarLayout>
			<s:HorizontalLayout paddingTop="10" paddingBottom="10" horizontalAlign="center"></s:HorizontalLayout>
		</s:controlBarLayout>
	</s:Panel>
</s:Application>